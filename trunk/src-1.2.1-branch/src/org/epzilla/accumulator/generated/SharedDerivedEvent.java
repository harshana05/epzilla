/***************************************************************************************************
Copyright 2009 - 2010 Harshana Eranga Martin, Dishan Metihakwala, Rajeev Sampath, Chathura Randika

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
****************************************************************************************************/
//==============================================================================
//                                                                              
//  THIS FILE HAS BEEN GENERATED BY JSTM                                        
//                                                                              
//==============================================================================

package org.epzilla.accumulator.generated;

import jstm.core.*;

public class SharedDerivedEvent extends jstm.core.TransactedStructure {

    public SharedDerivedEvent() {
        super(FIELD_COUNT);
    }

    public SharedDerivedEvent(int fieldCount) {
        super(FIELD_COUNT + fieldCount);
    }

    public Long getsrcId() {
        return (Long) getField(0);
    }

    public void setsrcId(Long value) {
        setField(0, value);
    }

    public Long getid() {
        return (Long) getField(1);
    }

    public void setid(Long value) {
        setField(1, value);
    }

    public Integer getclientId() {
        return (Integer) getField(2);
    }

    public void setclientId(Integer value) {
        setField(2, value);
    }

    public String getcontent() {
        return (String) getField(3);
    }

    public void setcontent(String value) {
        setField(3, value);
    }

    public static final int SRCID_INDEX = 0;

    public static final String SRCID_NAME = "srcId";

    public static final int ID_INDEX = 1;

    public static final String ID_NAME = "id";

    public static final int CLIENTID_INDEX = 2;

    public static final String CLIENTID_NAME = "clientId";

    public static final int CONTENT_INDEX = 3;

    public static final String CONTENT_NAME = "content";

    public static final int FIELD_COUNT = 4;

    @Override
    public String getFieldName(int index) {
        return getFieldNameStatic(index);
    }

    public static String getFieldNameStatic(int index) {
        switch (index) {
            case 0:
                return "srcId";
            case 1:
                return "id";
            case 2:
                return "clientId";
            case 3:
                return "content";
            default:
                throw new java.lang.IllegalArgumentException();
        }
    }

    // Internal

    @Override
    protected int getClassId() {
        return 0;
    }

    @Override
    public String getObjectModelUID() {
        return "0/SwADiJJjRNSFUVBZKy4w";
    }

    private static final int[] NON_TRANSIENT_FIELDS = new int[] {  };

    @Override
    protected int[] getNonTransientFields() {
        return NON_TRANSIENT_FIELDS;
    }

    @Override
    protected void serialize(TransactedObject.Version version, Writer writer) throws java.io.IOException {
        boolean[] reads = ((TransactedStructure.Version) version).getReads();
        Object[] values = ((TransactedStructure.Version) version).getWrites();

        if (reads != null) {
            writer.writeShort(Short.MAX_VALUE);

            for (int i = 0; i < 4; i++)
                writer.writeBoolean(reads[i]);
        }

        if (values != null) {
            if (values[0] != null) {
                if (values[0] == Removal.Instance)
                    writer.writeShort((short) -1);
                else {
                    writer.writeShort((short) 1);
                    writer.writeLong(((java.lang.Long) values[0]).longValue());
                }
            }

            if (values[1] != null) {
                if (values[1] == Removal.Instance)
                    writer.writeShort((short) -2);
                else {
                    writer.writeShort((short) 2);
                    writer.writeLong(((java.lang.Long) values[1]).longValue());
                }
            }

            if (values[2] != null) {
                if (values[2] == Removal.Instance)
                    writer.writeShort((short) -3);
                else {
                    writer.writeShort((short) 3);
                    writer.writeInteger(((java.lang.Integer) values[2]).intValue());
                }
            }

            if (values[3] != null) {
                if (values[3] == Removal.Instance)
                    writer.writeShort((short) -4);
                else {
                    writer.writeShort((short) 4);
                    writer.writeString((String) values[3]);
                }
            }
        }

        writer.writeShort((short) 0);
    }

    @SuppressWarnings("null")
    @Override
    protected void deserialize(TransactedObject.Version version, Reader reader) throws java.io.IOException {
        boolean[] reads = null;
        Object[] values = null;

        short index = reader.readShort();

        if (index == Short.MAX_VALUE) {
            reads = new boolean[4];

            for (int i = 0; i < 4; i++)
                reads[i] = reader.readBoolean();

            index = reader.readShort();
        }

        if (index == 1) {
            if (values == null)
                values = new Object[4];

            values[0] = new java.lang.Long(reader.readLong());
            index = reader.readShort();
        } else if (index == -1) {
            if (values == null)
                values = new Object[4];

            values[0] = Removal.Instance;
            index = reader.readShort();
        }

        if (index == 2) {
            if (values == null)
                values = new Object[4];

            values[1] = new java.lang.Long(reader.readLong());
            index = reader.readShort();
        } else if (index == -2) {
            if (values == null)
                values = new Object[4];

            values[1] = Removal.Instance;
            index = reader.readShort();
        }

        if (index == 3) {
            if (values == null)
                values = new Object[4];

            values[2] = new java.lang.Integer(reader.readInteger());
            index = reader.readShort();
        } else if (index == -3) {
            if (values == null)
                values = new Object[4];

            values[2] = Removal.Instance;
            index = reader.readShort();
        }

        if (index == 4) {
            if (values == null)
                values = new Object[4];

            values[3] = reader.readString();
            index = reader.readShort();
        } else if (index == -4) {
            if (values == null)
                values = new Object[4];

            values[3] = Removal.Instance;
            index = reader.readShort();
        }

        ((TransactedStructure.Version) version).setReads(reads);
        ((TransactedStructure.Version) version).setWrites(values);
    }
}
